!function(t,e){"use strict";function r(r,a,n,o,u){function l(){B=t.devicePixelRatio>1,n=f(n),a.delay>=0&&setTimeout(function(){c(!0)},a.delay),(a.delay<0||a.combined)&&(o.e=b(a.throttle,function(t){"resize"===t.type&&(z=w=-1),c(t.all)}),o.a=function(t){t=f(t),n.push.apply(n,t)},o.g=function(){return n=$(n).filter(function(){return!$(this).data(a.loadedName)})},o.f=function(t){for(var e=0;e<t.length;e++){var r=n.filter(function(){return this===t[e]});r.length&&c(!1,r)}},c(),$(a.appendScroll).on("scroll."+u+" resize."+u,o.e))}function f(t){var n=a.defaultImage,i=a.placeholder,o=a.imageBase,u=a.srcsetAttribute,l=a.loaderAttribute,f=a._f||{};t=$(t).filter(function(){var t=$(this),r=h(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(u)||t.attr(l)||f[r]!==e)}).data("plugin_"+a.name,r);for(var c=0,s=t.length;c<s;c++){var d=$(t[c]),A=h(t[c]),g=d.attr(a.imageBaseAttribute)||o;A===I&&g&&d.attr(u)&&d.attr(u,m(d.attr(u),g)),f[A]===e||d.attr(l)||d.attr(l,f[A]),A===I&&n&&!d.attr(N)?d.attr(N,n):A===I||!i||d.css(C)&&"none"!==d.css(C)||d.css(C,"url('"+i+"')")}return t}function c(t,e){if(!n.length)return void(a.autoDestroy&&r.destroy());for(var i=e||n,o=!1,u=a.imageBase||"",l=a.srcsetAttribute,f=a.handledName,c=0;c<i.length;c++)if(t||e||d(i[c])){var A=$(i[c]),g=h(i[c]),m=A.attr(a.attribute),b=A.attr(a.imageBaseAttribute)||u,v=A.attr(a.loaderAttribute);A.data(f)||a.visibleOnly&&!A.is(":visible")||!((m||A.attr(l))&&(g===I&&(b+m!==A.attr(N)||A.attr(l)!==A.attr(E))||g!==I&&b+m!==A.css(C))||v)||(o=!0,A.data(f,!0),s(A,g,b,v))}o&&(n=$(n).filter(function(){return!$(this).data(f)}))}function s(t,e,r,n){++y;var i=function(){p("onError",t),v(),i=$.noop};p("beforeLoad",t);var o=a.attribute,u=a.srcsetAttribute,l=a.sizesAttribute,f=a.retinaAttribute,c=a.removeAttribute,s=a.loadedName,d=t.attr(f);if(n){var A=function(){c&&t.removeAttr(a.loaderAttribute),t.data(s,!0),p(L,t),setTimeout(v,1),A=$.noop};t.off(D).one(D,i).one(T,A),p(n,t,function(e){e?(t.off(T),A()):(t.off(D),i())})||t.trigger(D)}else{var g=$(new Image);g.one(D,i).one(T,function(){t.hide(),e===I?t.attr(F,g.attr(F)).attr(E,g.attr(E)).attr(N,g.attr(N)):t.css(C,"url('"+g.attr(N)+"')"),t[a.effect](a.effectTime),c&&(t.removeAttr(o+" "+u+" "+f+" "+a.imageBaseAttribute),l!==F&&t.removeAttr(l)),t.data(s,!0),p(L,t),g.remove(),v()});var h=(B&&d?d:t.attr(o))||"";g.attr(F,t.attr(l)).attr(E,t.attr(u)).attr(N,h?r+h:null),g.complete&&g.trigger(T)}}function d(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=g()+n>e.top&&-n<e.bottom,o=A()+n>e.left&&-n<e.right;return"vertical"===r?i:"horizontal"===r?o:i&&o}function A(){return z>=0?z:z=$(t).width()}function g(){return w>=0?w:w=$(t).height()}function h(t){return t.tagName.toLowerCase()}function m(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function b(t,e){var n,i=0;return function(o,u){function l(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||u?l():n=setTimeout(l,t-f)}}function v(){--y,n.length||y||p("onFinishedAll")}function p(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var y=0,z=-1,w=-1,B=!1,L="afterLoad",T="load",D="error",I="img",N="src",E="srcset",F="sizes",C="background-image";"event"===a.bind||i?l():$(t).on(T+"."+u,l)}function a(a,i){var o=this,u=$.extend({},o.config,i),l={},f=u.name+"-"+ ++n;return o.config=function(t,r){return r===e?u[t]:(u[t]=r,o)},o.addItems=function(t){return l.a&&l.a("string"===$.type(t)?$(t):t),o},o.getItems=function(){return l.g?l.g():{}},o.update=function(t){return l.e&&l.e({},!t),o},o.force=function(t){return l.f&&l.f("string"===$.type(t)?$(t):t),o},o.loadAll=function(){return l.e&&l.e({all:!0},!0),o},o.destroy=function(){return $(u.appendScroll).off("."+f,l.e),$(t).off("."+f),l={},e},r(o,u,a,l,f),u.chainable?a:o}var $=t.jQuery||t.Zepto,n=0,i=!1;$.fn.Lazy=$.fn.lazy=function(t){return new a(this,t)},$.Lazy=$.lazy=function(t,r,n){if($.isFunction(r)&&(n=r,r=[]),$.isFunction(n)){t=$.isArray(t)?t:[t],r=$.isArray(r)?r:[r];for(var i=a.prototype.config,o=i._f||(i._f={}),u=0,l=t.length;u<l;u++)(i[t[u]]===e||$.isFunction(i[t[u]]))&&(i[t[u]]=n);for(var f=0,c=r.length;f<c;f++)o[r[f]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},$(t).on("load",function(){i=!0})}(window);