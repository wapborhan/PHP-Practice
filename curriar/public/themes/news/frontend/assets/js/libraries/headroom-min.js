!function(t){t&&(t.fn.tiesticky=function(i){return this.each(function(){var e=t(this),o=e.data("tiesticky"),n="object"==typeof i&&i;n=t.extend(!0,{},TieSticky.options,n),o||(o=new TieSticky(this,n),o.init(),e.data("tiesticky",o)),"string"==typeof i&&(o[i](),"destroy"===i&&e.removeData("tiesticky"))})},t("[data-tiesticky]").each(function(){var i=t(this);i.tiesticky(i.data())}))}(window.jQuery),function(t,i){"use strict";"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.TieSticky=i()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function i(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function e(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var o,n,s=t||{};for(n=1;n<arguments.length;n++){var h=arguments[n]||{};for(o in h)"object"!=typeof s[o]||i(s[o])?s[o]=s[o]||h[o]:s[o]=e(s[o],h[o])}return s}function o(t){return t===Object(t)?t:{down:t,up:t}}function n(t,i){i=e(i,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=o(i.tolerance),this.classes=i.classes,this.behaviorMode=i.behaviorMode,this.scroller=i.scroller,this.initialised=!1,this.onPin=i.onPin,this.onUnpin=i.onUnpin,this.onTop=i.onTop,this.onNotTop=i.onNotTop,this.onBottom=i.onBottom,this.onNotBottom=i.onNotBottom,this.offset=i.offset,this.offset="default"!=this.behaviorMode?this.offset+this.elem.offsetHeight:this.offset,this.offset=jQuery(document.body).hasClass("admin-bar")?this.offset-32:this.offset,this.offset=jQuery(document.body).hasClass("border-layout")?this.offset-25:this.offset}var s={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return"default"==this.behaviorMode&&this.elem.classList.add("defautl-behavior-mode"),this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,i=this.classes;!t.contains(i.pinned)&&t.contains(i.unpinned)||(t.add(i.unpinned),t.remove(i.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,i=this.classes;t.contains(i.unpinned)&&(t.remove(i.unpinned),t.add(i.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,i=this.classes;t.contains(i.top)||(t.add(i.top),t.remove(i.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,i=this.classes;t.contains(i.notTop)||(t.add(i.notTop),t.remove(i.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,i=this.classes;t.contains(i.bottom)||(t.add(i.bottom),t.remove(i.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,i=this.classes;t.contains(i.notBottom)||(t.add(i.notBottom),t.remove(i.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,i=document.documentElement;return Math.max(t.scrollHeight,i.scrollHeight,t.offsetHeight,i.offsetHeight,t.clientHeight,i.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var i=t<0,e=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return i||e},toleranceExceeded:function(t,i){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[i]},shouldUnpin:function(t,i){var e=t>this.lastKnownScrollY,o=t>=this.offset;return e&&o&&i},shouldPin:function(t,i){var e=t<this.lastKnownScrollY,o=t<=this.offset;return e&&i||o},update:function(){var t=this.getScrollY(),i=t>this.lastKnownScrollY?"down":"up",e=this.toleranceExceeded(t,i);this.isOutOfBounds(t)||(t<=this.offset-this.elem.offsetHeight&&"default"!=this.behaviorMode?(this.top(),this.elem.classList.add("unpinned-no-transition")):t<=this.offset&&"default"==this.behaviorMode?this.top():t>this.offset&&(this.notTop(),"default"==this.behaviorMode&&t<this.offset+100&&jQuery(".autocomplete-suggestions").hide()),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,e)?this.unpin():this.shouldPin(t,e)&&(this.pin(),t>this.offset&&"default"!=this.behaviorMode&&(this.elem.classList.remove("unpinned-no-transition"),jQuery(".autocomplete-suggestions").hide())),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,behaviorMode:"upwards",scroller:window,classes:{initial:"fixed",pinned:"fixed-pinned",unpinned:"fixed-unpinned",top:"fixed-top",notTop:"fixed-nav",bottom:"fixed-bottom",notBottom:"fixed-not-bottom"}},n.cutsTheMustard=void 0!==s&&s.rAF&&s.bind&&s.classList,n});